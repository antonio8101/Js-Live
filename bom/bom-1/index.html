<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BOM-1</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
</head>
<body>
<div class="container">
    <div class="card p-5 m-5">
        <div class="card-body">
                <div class="my-3">
                    <label for="copy-text" class="form-label">Riporta i tuoi commenti qui:</label>
                    <textarea class="form-control" id="copy-text"  rows="3" ></textarea>
                </div>
                <div class="my-3">
                    <button class="btn btn-primary" id="copy-btn"> copy to Clipboard</button>
                </div>
        </div>
    </div>
</div>


<script>
const textArea = document.getElementById("copy-text"); //1
const button = document.querySelector("#copy-btn"); // 2
//const oddButton = document.querySelectorAll("#copy-btn")[0]; // 3
//const form = document.forms.item(0);

button.addEventListener('click', () => {
    //console.log("button cliccato...");
    if (textArea instanceof HTMLTextAreaElement)
    {
        navigator.clipboard.writeText(`Quello che segue è il valore della textarea: ${textArea.value}`);
        textArea.value = '';
    }
});

// form.addEventListener('pointerdown', (e) => {
//     console.log("form pointer down...");
//     //e.preventDefault();
//     //e.stopPropagation();
//     console.log(e.target);
//     form.requestSubmit(); // invia il form (come .submit) e genera l'evento submit..
//     // non usare form.submit()....
// });

/*
form.addEventListener('submit', (e) => { // per evitare lo standard submit della pagina devo impostare un argomento
    // (e) rappresenta l'evento del dom corrispondente al "submit" del form...
    // submit è ESCLUSIVO DEL FORM...
    // console.log("form submitted...");

    // Tutte le volte che maneggiamo una variabile/proprietà/costante...
    // questa può essere un tipo PRIMTIVO o un TIPO DI RIFERIMENTO
    // PRIMITIVO: number, string, boolean, Symbol, null, undefined
        // quando ho a che fare con tipi PRIMITIVI posso asserire il tipo attraverso un codice tipo questo:
        // typeof e === "string"
    // RIFERIMENTO: Object, Array, DateTime... e molto altro.. (tipo HTMLFormElement, HTMLElement.. e via..)
        // quando ho a che fare con tipi di RIFERIMENTO posso asserire il tipo attraverso un codice tipo questo:
        // e instanceOf Array

    navigator.geolocation.getCurrentPosition((s) => {
        console.log(s);
    })

    if (e.target instanceof HTMLFormElement)
    {
        const textArea = e.target.elements[0];

        if (textArea instanceof HTMLTextAreaElement)
        {
            console.log(textArea.value);
            navigator.clipboard.writeText(`Quello che segue è il valore della textarea: ${textArea.value}`);
        }
    }

    e.preventDefault();
    e.stopPropagation();
});

 */
</script>
</body>
</html>
